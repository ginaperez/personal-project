(this["webpackJsonppersonal-project"]=this["webpackJsonppersonal-project"]||[]).push([[0],{44:function(e,t){},46:function(e,t,a){e.exports=a(77)},55:function(e,t,a){},56:function(e,t,a){},73:function(e,t,a){},75:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(23),s=a.n(i),c=a(14),l=a(15),o={user:null},u="SET_USER";function m(e){return{type:u,payload:e}}var p=a(22),h=a(42),g=Object(p.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case u:return{user:n};default:return e}}),Object(p.a)(h.a)),d=(a(55),a(56),a(11)),E=a(12),b=a(17),v=a(13),f=a(7),y=a(16),j=a(19),O=a(45),w=a(18),k=a.n(w);a(73);var N={setUser:m},P=Object(l.b)((function(e){return e}),N)((function(e){var t=Object(n.useState)(!1),a=Object(O.a)(t,2),i=a[0],s=a[1],l=function(){s(!i)};return r.a.createElement("div",{className:"header-main"},r.a.createElement("div",{className:"header-contents"},r.a.createElement("span",{className:"navbar"},e.user?r.a.createElement("button",{className:"toggler",onClick:l},r.a.createElement("img",{className:"toggle-img",src:e.user.image,alt:"".concat(e.user.email," Image")})):r.a.createElement(c.b,{className:"nav",to:"/login"},e.title),e.user&&r.a.createElement("div",{className:i?"show":""},r.a.createElement(c.b,{className:"nav",onClick:function(){return l()},to:"/purchase_histo"},"Purchase History"),r.a.createElement(c.b,{className:"nav",onClick:function(){l(),e.setSidebar(!1)},to:"/profile"},"My Account"),r.a.createElement("button",{className:"logout",onClick:function(){k.a.delete("/auth/logout").then((function(){e.setUser(null)})),l()}},"Logout")))))})),S=(a(75),function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.changeTitle("Login")}},{key:"render",value:function(){return r.a.createElement("div",{className:"landing-main"},r.a.createElement("div",{className:"picture-element"},r.a.createElement("div",{className:"header-container"},r.a.createElement("h1",null,"Furniture Store"))))}}]),t}(r.a.Component)),T=a(9),_=a.n(T),C=a(20),H={login:"/api/login",register:"/api/register",session:"/api/session",logout:"/api/logout",inventory:"/api/inventory",search:"/api/search",orders:"/api/orders",purchaseHistory:"/api/purchaseHistory",cart:"/api/cart",checkout:"/api/checkout"},I=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).state={registerEmail:"",registerPassword:"",loginEmail:"",loginPassword:"",session:{email:"",user_id:null}},a.register=a.register.bind(Object(f.a)(a)),a.login=a.login.bind(Object(f.a)(a)),a.logout=a.logout.bind(Object(f.a)(a)),a}return Object(y.a)(t,e),Object(E.a)(t,[{key:"register",value:function(){var e=Object(C.a)(_.a.mark((function e(){var t,a,n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.registerEmail,n=t.registerPassword,e.next=3,k.a.post(H.register,{email:a,password:n});case 3:r=e.sent,this.setState({session:r.data});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(C.a)(_.a.mark((function e(){var t,a,n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.loginEmail,n=t.loginPassword,e.next=3,k.a.post(H.login,{email:a,password:n});case 3:r=e.sent,this.props.setUser(r.data),console.log(r);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(C.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.session,e.next=3,k.a.post(H.logout,{});case 3:e.sent,this.setState({session:{email:"",user_id:null}});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.loginEmail,n=t.loginPassword,i=t.registerEmail,s=t.registerPassword;return r.a.createElement("div",{className:"main-area"},r.a.createElement("div",{className:"auth-container"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.login()}},r.a.createElement("div",{className:"login-input-container"},r.a.createElement("label",null,"Email: "),r.a.createElement("input",{type:"email",value:a,onChange:function(t){return e.setState({loginEmail:t.target.value})}})),r.a.createElement("div",{className:"login-input-container"},r.a.createElement("label",null,"Password: "),r.a.createElement("input",{type:"password",value:n,onChange:function(t){return e.setState({loginPassword:t.target.value})}})),r.a.createElement("button",{className:"login-input-button"},"Login")),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.register()}},r.a.createElement("div",{className:"register-input-container"},r.a.createElement("label",null,"Email: "),r.a.createElement("input",{type:"email",value:i,onChange:function(t){return e.setState({registerEmail:t.target.value})}})),r.a.createElement("div",{className:"register-input-container"},r.a.createElement("label",null,"Password: "),r.a.createElement("input",{type:"password",value:s,onChange:function(t){return e.setState({registerPassword:t.target.value})}})),r.a.createElement("button",{className:"register-input-button"},"Register"))))}}]),t}(n.Component);var x={setUser:m},D=Object(l.b)((function(e){return e}),x)(I),U=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).state={purchaseHistory:[]},a.getPurchaseHistory=a.getPurchaseHistory.bind(Object(f.a)(a)),a}return Object(y.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.getPurchaseHistory()}},{key:"getPurchaseHistory",value:function(){var e=Object(C.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(H.purchaseHistory));case 2:t=e.sent,this.setState({purchaseHistory:t.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){this.state.purchaseHistoryItem;return r.a.createElement("div",{className:"purchase-history"},this.state.purchaseHistory.map((function(e,t){return r.a.createElement("div",{className:"purchase-history-details"},r.a.createElement("p",null,"Purchase ID: ",e.purchase_id),r.a.createElement("p",null,"Purchase date: ",e.purchase_date),r.a.createElement("p",null,"Transaction ID: ",e.transaction_id),r.a.createElement("p",null,"User ID: ",e.user_id),r.a.createElement("p",null,"Item ID: ",e.item_id),r.a.createElement("p",null,"Item Name: ",e.item_name),r.a.createElement("p",null,"Item Qty: ",e.item_qty),r.a.createElement("p",null,"Item Unit Price: ",e.item_unit_price),r.a.createElement("p",null,"Item Total Price: ",e.total_price),r.a.createElement("p",null,r.a.createElement("img",{src:e.image,width:"200px"})))})))}}]),t}(n.Component),L=a(44),M=a.n(L),A=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).state={title:"Login"},a.changeTitle=a.changeTitle.bind(Object(f.a)(a)),a}return Object(y.a)(t,e),Object(E.a)(t,[{key:"changeTitle",value:function(e){this.setState({title:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(P,{title:this.state.title,user:this.props.user}),r.a.createElement(j.d,null,r.a.createElement(j.b,{exact:!0,path:"/",render:function(t){return r.a.createElement(S,Object.assign({changeTitle:e.changeTitle},t))}}),r.a.createElement(j.b,{path:"/login-register",render:function(t){return r.a.createElement(D,Object.assign({changeTitle:e.changeTitle},t))}}),this.props.user&&r.a.createElement(j.b,{path:"/inventory",render:function(t){return r.a.createElement(M.a,Object.assign({changeTitle:e.changeTitle},t))}}),this.props.user&&r.a.createElement(j.b,{path:"/purchase_history",render:function(t){return r.a.createElement(U,Object.assign({changeTitle:e.changeTitle},t))}}),r.a.createElement(j.b,{path:"*",render:function(){return r.a.createElement(j.a,{to:"/inventory"})}})))}}]),t}(r.a.Component);var B={setUser:m},J=Object(l.b)((function(e){return e}),B)(Object(j.g)(A));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(l.a,{store:g},r.a.createElement(c.a,null,r.a.createElement(J,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.c0accb03.chunk.js.map